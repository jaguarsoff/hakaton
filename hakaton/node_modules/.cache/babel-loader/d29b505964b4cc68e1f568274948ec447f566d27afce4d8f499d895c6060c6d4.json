{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import logo from'../../img/logo.png';import avatar from'../../img/logo.png';import arrowDown from'../../img/arrow-down.png';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Header(){const[isDropdownOpen,setIsDropdownOpen]=useState(false);const dropdownStyle={backgroundImage:\"url(\".concat(arrowDown,\")\"),// Use `url()` for background image\nbackgroundRepeat:'no-repeat',width:'25px',height:'25px',cursor:'pointer'// Add cursor style for better user interaction\n};const dropdowContent={backgroundColor:\"#EFEFEF\",position:'relative',top:'50px',right:'75px',width:\"100px\"};const toggleDropdown=()=>{setIsDropdownOpen(prev=>!prev);};function exit(){document.cookie=\"authToken=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";window.location.reload();}const[userInfo,setUserInfo]=useState(null);useEffect(()=>{const authToken=document.cookie.replace(/(?:(?:^|.*;\\s*)authToken\\s*=\\s*([^;]*).*$)|^.*$/,'$1');if(authToken){axios.get('/user/info.php',{headers:{Authorization:\"Bearer \".concat(authToken)}}).then(response=>{const data=response.data;console.log(response.data);setUserInfo(data);}).catch(error=>{console.error('Error fetching user data:',error);});}},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"p-[50px] flex justify-between\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Logo\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",style:{gap:\"10px\"},children:[userInfo&&/*#__PURE__*/_jsx(\"span\",{children:userInfo.login}),/*#__PURE__*/_jsx(\"img\",{src:avatar,alt:\"Avatar\",className:\"rounded-full\",width:\"75\",height:\"75\"}),/*#__PURE__*/_jsx(\"div\",{className:\"dropdown\",style:dropdownStyle,onClick:toggleDropdown,children:isDropdownOpen&&/*#__PURE__*/_jsx(\"div\",{style:dropdowContent,className:\"rounded-[10px] p-[10px]\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/panel/profile/\".concat(userInfo.login),children:\"\\u041F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:exit,children:\"\\u0412\\u044B\\u0439\\u0442\\u0438\"})})]})})})]})]});}export default Header;","map":{"version":3,"names":["React","useState","useEffect","axios","logo","avatar","arrowDown","Link","jsx","_jsx","jsxs","_jsxs","Header","isDropdownOpen","setIsDropdownOpen","dropdownStyle","backgroundImage","concat","backgroundRepeat","width","height","cursor","dropdowContent","backgroundColor","position","top","right","toggleDropdown","prev","exit","document","cookie","window","location","reload","userInfo","setUserInfo","authToken","replace","get","headers","Authorization","then","response","data","console","log","catch","error","className","children","src","alt","style","gap","login","onClick","to"],"sources":["C:/OSPanel/domains/localhost/hakaton/src/components/Panel/Header.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport logo from '../../img/logo.png';\r\nimport avatar from '../../img/logo.png';\r\nimport arrowDown from '../../img/arrow-down.png';\r\nimport { Link } from 'react-router-dom';\r\nfunction Header() {\r\n    const [isDropdownOpen, setIsDropdownOpen] = useState(false);\r\n\r\n    const dropdownStyle = {\r\n        backgroundImage: `url(${arrowDown})`, // Use `url()` for background image\r\n        backgroundRepeat: 'no-repeat',\r\n        width: '25px',\r\n        height: '25px',\r\n        cursor: 'pointer', // Add cursor style for better user interaction\r\n    };\r\n    const dropdowContent = {\r\n        backgroundColor: \"#EFEFEF\",\r\n        position: 'relative',\r\n        top: '50px',\r\n        right: '75px',\r\n        width: \"100px\"\r\n    }\r\n    const toggleDropdown = () => {\r\n        setIsDropdownOpen((prev) => !prev);\r\n    };\r\n    function exit() {\r\n        document.cookie = `authToken=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`;\r\n        window.location.reload();\r\n    }\r\n    const [userInfo, setUserInfo] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const authToken = document.cookie.replace(/(?:(?:^|.*;\\s*)authToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1');\r\n\r\n        if (authToken) {\r\n            axios.get('/user/info.php', {\r\n                headers: {\r\n                    Authorization: `Bearer ${authToken}`,\r\n                },\r\n            })\r\n                .then(response => {\r\n                    const data = response.data;\r\n                    console.log(response.data)\r\n                    setUserInfo(data);\r\n                })\r\n                .catch(error => {\r\n                    console.error('Error fetching user data:', error);\r\n                });\r\n        }\r\n    }, []);\r\n    return (\r\n        <div className=\"p-[50px] flex justify-between\">\r\n            <img src={logo} alt=\"Logo\" />\r\n            <div className='flex items-center' style={{ gap: \"10px\" }}>\r\n                {userInfo && (\r\n                    <span>{userInfo.login}</span>\r\n                )}\r\n                <img src={avatar} alt=\"Avatar\" className=\"rounded-full\" width=\"75\" height=\"75\" />\r\n\r\n                <div className=\"dropdown\" style={dropdownStyle} onClick={toggleDropdown}>\r\n                    {/* Render dropdown content if the dropdown is open */}\r\n                    {isDropdownOpen && (\r\n                        <div style={dropdowContent} className='rounded-[10px] p-[10px]'>\r\n                            {/* Dropdown content goes here */}\r\n                            <ul>\r\n                                <li>\r\n                                    <Link to={`/panel/profile/${userInfo.login}`}>Профиль</Link>\r\n                                </li>\r\n                                <li>\r\n                                    <button onClick={exit}>Выйти</button>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n            </div>\r\n\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Header;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}