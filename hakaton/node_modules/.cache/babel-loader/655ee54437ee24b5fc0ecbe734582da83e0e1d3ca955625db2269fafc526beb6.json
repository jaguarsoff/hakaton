{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import Cookies from\"js-cookie\";// Make sure to import the Cookies library\nimport{jwtDecode}from\"jwt-decode\";// Make sure to import jwt-decode\nimport axios from'axios';import upload from'../../img/upload.svg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const Content=()=>{const[isUploaded,setIsUploaded]=useState(false);const[isModerIn,setIsModerIn]=useState(true);useEffect(()=>{const authToken=Cookies.get('authToken');if(authToken){try{const decodedToken=jwtDecode(authToken);const currentTime=Date.now()/1000;if(decodedToken.exp>currentTime){// If the token is still valid, make a request to check if the user is a moderator\naxios.get('user/moder.php',{headers:{Authorization:\"Bearer \".concat(authToken)}}).then(response=>{console.log(response.data);setIsModerIn(response.data.isModerator);}).catch(error=>{console.error('Error checking moderator status:',error);setIsModerIn(false);});}else{Cookies.remove('authToken');setIsModerIn(false);}}catch(error){console.error('Error decoding token:',error);setIsModerIn(false);}}else{setIsModerIn(false);}},[]);function handleChange(){setIsUploaded(true);}return/*#__PURE__*/_jsxs(\"div\",{className:\"relative bg-[#EFEFEF] w-full h-screen rounded-tl-[80px]\",children:[!isModerIn&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-[73px] ml-[79px] pt-[127px]\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-[421px] h-[376px] rounded-[15px] bg-white text-[30px] font-semibold\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end items-center space-x-[57px] mr-[18px] mb-[24px] pt-[19px]\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442-B8\"}),/*#__PURE__*/_jsx(\"a\",{href:\"https://docs.google.com/spreadsheets/d/1a7psFA47ADxcvcJzY0UExkkJaKm65lyZ/edit#gid=1350218357\",children:/*#__PURE__*/_jsx(\"img\",{src:upload,alt:\"upload-icon\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex m-auto rounded-[15px] justify-center items-center my-6 mb-6 w-[370px] h-[269px] bg-[#EFEFEF]\",children:\"\\u041E\\u0431\\u0440\\u0430\\u0437\\u0435\\u0446\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-[421px] h-[376px] rounded-[15px] bg-white text-[30px] font-semibold\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end items-center space-x-[57px] mr-[18px] mb-[24px] pt-[19px]\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442-B8\"}),/*#__PURE__*/_jsx(\"a\",{href:\"https://docs.google.com/spreadsheets/d/1a7psFA47ADxcvcJzY0UExkkJaKm65lyZ/edit#gid=1350218357\",children:/*#__PURE__*/_jsx(\"img\",{src:upload,alt:\"upload-icon\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex m-auto rounded-[15px] justify-center items-center my-6 mb-6 w-[370px] h-[269px] bg-[#EFEFEF]\",children:\"\\u041E\\u0431\\u0440\\u0430\\u0437\\u0435\\u0446\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-[421px] h-[376px] rounded-[15px] bg-white text-[30px] font-semibold\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end items-center space-x-[57px] mr-[18px] mb-[24px] pt-[19px]\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442-B8\"}),/*#__PURE__*/_jsx(\"a\",{href:\"https://docs.google.com/spreadsheets/d/1a7psFA47ADxcvcJzY0UExkkJaKm65lyZ/edit#gid=1350218357\",children:/*#__PURE__*/_jsx(\"img\",{src:upload,alt:\"upload-icon\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex m-auto rounded-[15px] justify-center items-center my-6 mb-6 w-[370px] h-[269px] bg-[#EFEFEF]\",children:\"\\u041E\\u0431\\u0440\\u0430\\u0437\\u0435\\u0446\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center absolute top-[30px] right-[30px] text-[13px] h-[62px] p-4 bg-[#E672B6] rounded-[15px]\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"inputFile\",className:\"flex items-center mr-14 cursor-pointer\",style:{gap:\"10px\"},children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"11\",height:\"25\",viewBox:\"0 0 11 25\",fill:\"none\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M6.79824 23.5927C6.18031 24.1732 5.34679 24.4748 4.42934 24.4457C2.39286 24.3788 0.78581 22.668 0.846532 20.6323L0.866496 4.27174C0.941862 1.79602 3.00346 0.0754499 5.77038 0.163673C7.01049 0.203527 8.23575 0.789424 9.13336 1.77187C10.0213 2.74409 10.5091 4.01459 10.4714 5.25832L10.4718 17.6396C10.473 17.9854 10.1925 18.2647 9.84659 18.2643C9.50085 18.2632 9.22067 17.9828 9.22085 17.637L9.22031 5.2369C9.24878 4.29732 8.88025 3.34864 8.2103 2.61496C7.53995 1.88083 6.63656 1.44359 5.7326 1.41424C4.03466 1.35942 2.17953 2.23818 2.11773 4.29383L2.098 20.6541C2.0571 22.0191 3.12052 23.1507 4.46727 23.1945C5.09826 23.2145 5.63324 23.0103 6.02102 22.5993C6.40448 22.1923 6.62667 21.5908 6.64718 20.9061L6.64806 7.87271C6.66192 7.41507 6.59178 6.39105 5.65557 6.36069C5.12552 6.34369 4.94957 6.5407 4.89142 6.60519C4.72623 6.79038 4.63282 7.11267 4.62022 7.53697L4.61582 17.343C4.61561 17.6892 4.33538 17.9692 3.9901 17.9672C3.64457 17.9668 3.36441 17.6855 3.3648 17.3404L3.36892 7.5162C3.39057 6.76654 3.58756 6.18617 3.95507 5.77319C4.24213 5.45119 4.77061 5.08038 5.69334 5.11054C7.06219 5.15462 7.94804 6.27334 7.89916 7.89453L7.89781 20.9275C7.86806 21.9365 7.52536 22.8282 6.93264 23.4579C6.8894 23.5045 6.84445 23.5493 6.79821 23.5927L6.79824 23.5927Z\",fill:\"black\"})}),\"\\u0412\\u044B\\u0431\\u0440\\u0430\\u0442\\u044C\"]}),/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,type:\"file\",id:\"inputFile\",className:\"flex space-x-[9px] pl-7 py-3 hidden\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>console.log('File submitted!'),disabled:!isUploaded,className:\"bg-white py-3 px-3 rounded-[15px]\",children:\"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\"})]})]}),isModerIn&&/*#__PURE__*/_jsx(\"div\",{className:\"p-[2em]\"})]});};export default Content;","map":{"version":3,"names":["React","useState","useEffect","Cookies","jwtDecode","axios","upload","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Content","isUploaded","setIsUploaded","isModerIn","setIsModerIn","authToken","get","decodedToken","currentTime","Date","now","exp","headers","Authorization","concat","then","response","console","log","data","isModerator","catch","error","remove","handleChange","className","children","href","src","alt","htmlFor","style","gap","xmlns","width","height","viewBox","fill","d","onChange","type","id","onClick","disabled"],"sources":["C:/OSPanel/domains/localhost/hakaton/src/components/Panel/Content.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Cookies from \"js-cookie\"; // Make sure to import the Cookies library\r\nimport { jwtDecode } from \"jwt-decode\"; // Make sure to import jwt-decode\r\nimport axios from 'axios';\r\nimport upload from '../../img/upload.svg';\r\n\r\nconst Content = () => {\r\n  const [isUploaded, setIsUploaded] = useState(false);\r\n  const [isModerIn, setIsModerIn] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const authToken = Cookies.get('authToken');\r\n\r\n    if (authToken) {\r\n      try {\r\n        const decodedToken = jwtDecode(authToken);\r\n\r\n        const currentTime = Date.now() / 1000;\r\n        if (decodedToken.exp > currentTime) {\r\n          // If the token is still valid, make a request to check if the user is a moderator\r\n          axios.get('user/moder.php', {\r\n            headers: {\r\n              Authorization: `Bearer ${authToken}`,\r\n            },\r\n          })\r\n            .then(response => {\r\n              console.log(response.data)\r\n              setIsModerIn(response.data.isModerator);\r\n            })\r\n            .catch(error => {\r\n              console.error('Error checking moderator status:', error);\r\n              setIsModerIn(false);\r\n            });\r\n        } else {\r\n          Cookies.remove('authToken');\r\n          setIsModerIn(false);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error decoding token:', error);\r\n        setIsModerIn(false);\r\n      }\r\n    } else {\r\n      setIsModerIn(false);\r\n    }\r\n  }, []);\r\n\r\n  function handleChange() {\r\n    setIsUploaded(true);\r\n  }\r\n\r\n  return (\r\n    <div className=\"relative bg-[#EFEFEF] w-full h-screen rounded-tl-[80px]\">\r\n      {/* small panel */}\r\n      {!isModerIn && (\r\n        <>\r\n\r\n          <div className=\"flex space-x-[73px] ml-[79px] pt-[127px]\">\r\n            <div className=\"w-[421px] h-[376px] rounded-[15px] bg-white text-[30px] font-semibold\">\r\n              <div className=\"flex justify-end items-center space-x-[57px] mr-[18px] mb-[24px] pt-[19px]\">\r\n                <h3>Документ-B8</h3>\r\n                <a href=\"https://docs.google.com/spreadsheets/d/1a7psFA47ADxcvcJzY0UExkkJaKm65lyZ/edit#gid=1350218357\">\r\n                  <img src={upload} alt=\"upload-icon\" />\r\n                </a>\r\n              </div>\r\n              <div className=\"flex m-auto rounded-[15px] justify-center items-center my-6 mb-6 w-[370px] h-[269px] bg-[#EFEFEF]\">\r\n                Образец\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"w-[421px] h-[376px] rounded-[15px] bg-white text-[30px] font-semibold\">\r\n              <div className=\"flex justify-end items-center space-x-[57px] mr-[18px] mb-[24px] pt-[19px]\">\r\n                <h3>Документ-B8</h3>\r\n                <a href=\"https://docs.google.com/spreadsheets/d/1a7psFA47ADxcvcJzY0UExkkJaKm65lyZ/edit#gid=1350218357\">\r\n                  <img src={upload} alt=\"upload-icon\" />\r\n                </a>\r\n              </div>\r\n\r\n              <div className=\"flex m-auto rounded-[15px] justify-center items-center my-6 mb-6 w-[370px] h-[269px] bg-[#EFEFEF]\">\r\n                Образец\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"w-[421px] h-[376px] rounded-[15px] bg-white text-[30px] font-semibold\">\r\n              <div className=\"flex justify-end items-center space-x-[57px] mr-[18px] mb-[24px] pt-[19px]\">\r\n                <h3>Документ-B8</h3>\r\n                <a href=\"https://docs.google.com/spreadsheets/d/1a7psFA47ADxcvcJzY0UExkkJaKm65lyZ/edit#gid=1350218357\">\r\n                  <img src={upload} alt=\"upload-icon\" />\r\n                </a>\r\n              </div>\r\n\r\n              <div className=\"flex m-auto rounded-[15px] justify-center items-center my-6 mb-6 w-[370px] h-[269px] bg-[#EFEFEF]\">\r\n                Образец\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex items-center absolute top-[30px] right-[30px] text-[13px] h-[62px] p-4 bg-[#E672B6] rounded-[15px]\">\r\n            <label htmlFor=\"inputFile\" className=\"flex items-center mr-14 cursor-pointer\" style={{ gap: \"10px\" }}>\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"11\" height=\"25\" viewBox=\"0 0 11 25\" fill=\"none\">\r\n                <path d=\"M6.79824 23.5927C6.18031 24.1732 5.34679 24.4748 4.42934 24.4457C2.39286 24.3788 0.78581 22.668 0.846532 20.6323L0.866496 4.27174C0.941862 1.79602 3.00346 0.0754499 5.77038 0.163673C7.01049 0.203527 8.23575 0.789424 9.13336 1.77187C10.0213 2.74409 10.5091 4.01459 10.4714 5.25832L10.4718 17.6396C10.473 17.9854 10.1925 18.2647 9.84659 18.2643C9.50085 18.2632 9.22067 17.9828 9.22085 17.637L9.22031 5.2369C9.24878 4.29732 8.88025 3.34864 8.2103 2.61496C7.53995 1.88083 6.63656 1.44359 5.7326 1.41424C4.03466 1.35942 2.17953 2.23818 2.11773 4.29383L2.098 20.6541C2.0571 22.0191 3.12052 23.1507 4.46727 23.1945C5.09826 23.2145 5.63324 23.0103 6.02102 22.5993C6.40448 22.1923 6.62667 21.5908 6.64718 20.9061L6.64806 7.87271C6.66192 7.41507 6.59178 6.39105 5.65557 6.36069C5.12552 6.34369 4.94957 6.5407 4.89142 6.60519C4.72623 6.79038 4.63282 7.11267 4.62022 7.53697L4.61582 17.343C4.61561 17.6892 4.33538 17.9692 3.9901 17.9672C3.64457 17.9668 3.36441 17.6855 3.3648 17.3404L3.36892 7.5162C3.39057 6.76654 3.58756 6.18617 3.95507 5.77319C4.24213 5.45119 4.77061 5.08038 5.69334 5.11054C7.06219 5.15462 7.94804 6.27334 7.89916 7.89453L7.89781 20.9275C7.86806 21.9365 7.52536 22.8282 6.93264 23.4579C6.8894 23.5045 6.84445 23.5493 6.79821 23.5927L6.79824 23.5927Z\" fill=\"black\" />\r\n              </svg>\r\n              Выбрать\r\n            </label>\r\n            <input onChange={handleChange} type=\"file\" id=\"inputFile\" className=\"flex space-x-[9px] pl-7 py-3 hidden\" />\r\n            <button onClick={() => console.log('File submitted!')} disabled={!isUploaded} className=\"bg-white py-3 px-3 rounded-[15px]\">\r\n              Отправить\r\n            </button>\r\n          </div>\r\n        </>\r\n      )}\r\n      {isModerIn && (\r\n        <div className=\"p-[2em]\">\r\n          \r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Content;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}